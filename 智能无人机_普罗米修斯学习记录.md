# 普罗米修斯学习记录

# 阿木实验室

# 疑问：

如何将仿真实际应用到实际开发中？

解： 

uORB 消息是什么？

解：

- px4 代码内部的一种消息格式，px4 中所有消息都有对应的uorb 消息名字
- 

开发： 如何新建一个module,msg ？

解：

测悬停推力是做什么？怎么样做？

解： 实际飞机，读飞行日志，通过无人机的质量求无人机的悬停推力

​		目的未知

串级PID？ 

解： 

# 0. 学习进度

- 2022.12.17  
  - 简介学习



# 1. Prometheus 简介

## 课程目录

![1671211952337](智能无人机_普罗米修斯学习记录.assets/1671211952337.png)





## 0. 简介

![1671208272017](智能无人机_普罗米修斯学习记录.assets/1671208272017.png)



- 使用prometheus 节省时间
- ros无人机很难找到资料
- 



![1671208587563](智能无人机_普罗米修斯学习记录.assets/1671208587563.png)

## 1. 安装和上手

![1671208629434](智能无人机_普罗米修斯学习记录.assets/1671208629434.png)



## **2. prometheus wiki** : 

```http
https://wiki.amovlab.com/public/prometheus-wiki/Prometheus-%E8%87%AA%E4%B8%BB%E6%97%A0%E4%BA%BA%E6%9C%BA%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/Prometheus-%E8%87%AA%E4%B8%BB%E6%97%A0%E4%BA%BA%E6%9C%BA%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE.html
```



## 3. prometheus 框架



### 0. 框架总览



![1671208848040](智能无人机_普罗米修斯学习记录.assets/1671208848040.png)



![1671209862694](智能无人机_普罗米修斯学习记录.assets/1671209862694.png)



在做顶层应用时，要注意它的每个模块之间的关系，每个模块的输入和输出

### 1. 共用模块

![1671208910033](智能无人机_普罗米修斯学习记录.assets/1671208910033.png)



### 2. 控制模块

![1671208942012](智能无人机_普罗米修斯学习记录.assets/1671208942012.png)



### 3. 建图定位模块

![1671209162091](智能无人机_普罗米修斯学习记录.assets/1671209162091.png)



### 4. 规划模块

![1671209267174](智能无人机_普罗米修斯学习记录.assets/1671209267174.png)





### 5. 目标识别模块

![1671209390854](智能无人机_普罗米修斯学习记录.assets/1671209390854.png)





### 6. 任务模块*

![1671209534377](智能无人机_普罗米修斯学习记录.assets/1671209534377.png)



订阅来自规划模块，目标检测模块的处理结果

将结果统一的控制指定发布到控制模块

/prometheus/control_command 

处理任务逻辑，生成统一的控制指令



### 7. gezabo 模块

![1671209665700](智能无人机_普罗米修斯学习记录.assets/1671209665700.png)



仿真功能

可以根据自己的无人机进行修改模型和场景



## 4. 基于Gazebo 的软件在环仿真

![1671209789341](智能无人机_普罗米修斯学习记录.assets/1671209789341.png)



Gazebo 仿真的意义在于价值在于代码测试



## 5. promethues 开发流程

![1671210012109](智能无人机_普罗米修斯学习记录.assets/1671210012109.png)



目标： 比赛

硬件 ： 

仿真测试：  测试代码功能，节约时间



## 6. promethues功能展示

- 无人机控制
- 多机编队控制
- 建图
- ORB_SLAM
- 全局/局部避障
- 轨迹优化
- 自主降落
- 环形穿越
- 颜色巡线
- KCF框架追踪
- 数字识别

![1671210134212](智能无人机_普罗米修斯学习记录.assets/1671210134212.png)







![1671210180326](智能无人机_普罗米修斯学习记录.assets/1671210180326.png)





![1671210211910](智能无人机_普罗米修斯学习记录.assets/1671210211910.png)







![1671210239387](智能无人机_普罗米修斯学习记录.assets/1671210239387.png)





![1671210338434](智能无人机_普罗米修斯学习记录.assets/1671210338434.png)





## 7. promethues未来规划

- 配套地面站（收费）（在win10上用qt上位机替代 ）
- p200 - p300  科研无人机平台
- 





![1671210405031](智能无人机_普罗米修斯学习记录.assets/1671210405031.png)



![1671210534809](智能无人机_普罗米修斯学习记录.assets/1671210534809.png)



## 8. 结束语

![1671210579463](智能无人机_普罗米修斯学习记录.assets/1671210579463.png)



- 勤读论文

- 勤读代码

- 勤动手

- 提问描述清楚问题

  

# 2. 无人机平台搭建---------------------------系统框架





## 1. 无人机系统框架

### 1. 什么是自主无人机

![1671212589679](智能无人机_普罗米修斯学习记录.assets/1671212589679.png)



### 2. 机架选型

![1671212694084](智能无人机_普罗米修斯学习记录.assets/1671212694084.png)



### 3. 机载电脑选型

![1671212932562](智能无人机_普罗米修斯学习记录.assets/1671212932562.png)





### 4. 传感器选型

![1671213139135](智能无人机_普罗米修斯学习记录.assets/1671213139135.png)





### 5. 功能框架

![1671213275297](智能无人机_普罗米修斯学习记录.assets/1671213275297.png)



![1671213531578](智能无人机_普罗米修斯学习记录.assets/1671213531578.png)



### 6. 开发过程

![1671213626983](智能无人机_普罗米修斯学习记录.assets/1671213626983.png)



















## 2. 无人机必备基础知识

### 1. 什么是PX4

![1671214221386](智能无人机_普罗米修斯学习记录.assets/1671214221386.png)



### 2. 硬件-Pixhawk 

![1671214264083](智能无人机_普罗米修斯学习记录.assets/1671214264083.png)



![1671214272447](智能无人机_普罗米修斯学习记录.assets/1671214272447.png)



### 3. 地面站

![1671214349294](智能无人机_普罗米修斯学习记录.assets/1671214349294.png)



- 设置飞控中的参数
- 监控飞控状态
- 下载日志



### 4. PX4 二次开发*

![1671214464868](智能无人机_普罗米修斯学习记录.assets/1671214464868.png)



uORB 消息

开发： 如何新建一个module,msg 

### 5. uORB 消息机制

![1671214635238](智能无人机_普罗米修斯学习记录.assets/1671214635238.png)



- px4 代码内部的一种消息格式，px4 中所有消息都有对应的uorb 消息名字
- 用于px4 各模块间传递消息



![1671214755881](智能无人机_普罗米修斯学习记录.assets/1671214755881.png)



实线 订阅的消息，虚线是发布的消息

圆方框是一个模块



![1671214811328](智能无人机_普罗米修斯学习记录.assets/1671214811328.png)



### 6. mavlink 模块

![1671214895133](智能无人机_普罗米修斯学习记录.assets/1671214895133.png)

![1671252121967](智能无人机_普罗米修斯学习记录.assets/1671252121967.png)

![1671252286971](智能无人机_普罗米修斯学习记录.assets/1671252286971.png)

 



 ![1671252396918](智能无人机_普罗米修斯学习记录.assets/1671252396918.png)



![1671252568250](智能无人机_普罗米修斯学习记录.assets/1671252568250.png)





### 7. 位置控制和姿态控制模块

![1671251840582](智能无人机_普罗米修斯学习记录.assets/1671251840582.png)



### 8. ROS是什么

![1671252648976](智能无人机_普罗米修斯学习记录.assets/1671252648976.png)



### 9. 如何自学ROS

![1671252769229](智能无人机_普罗米修斯学习记录.assets/1671252769229.png)

- 学好ros就是不断了解这种通信和交流的机制，然后应用在自己的项目上就好了





### 10. ROS通信机制

![1671252908149](智能无人机_普罗米修斯学习记录.assets/1671252908149.png)



终端输入： rqt_graph  

![1671253046800](智能无人机_普罗米修斯学习记录.assets/1671253046800.png)



### 11. ROS 话题

![1671253094040](智能无人机_普罗米修斯学习记录.assets/1671253094040.png)



  ![1671253229456](智能无人机_普罗米修斯学习记录.assets/1671253229456.png)





![1671253261723](智能无人机_普罗米修斯学习记录.assets/1671253261723.png)

### 12. ROS 相关命令

![1671253366526](智能无人机_普罗米修斯学习记录.assets/1671253366526.png)







### 13. ROS 的开发工具



![1671256112506](智能无人机_普罗米修斯学习记录.assets/1671256112506.png)







![1671256076903](智能无人机_普罗米修斯学习记录.assets/1671256076903.png)



- 运行roslaunch  可以不用运行roscore 

- 使用rosrun 需要提前启动roscore 运行ros master 

  

![1671256171631](智能无人机_普罗米修斯学习记录.assets/1671256171631.png)





![1671256209783](智能无人机_普罗米修斯学习记录.assets/1671256209783.png)





### 14. ROS 的生态系统

![1671256292695](智能无人机_普罗米修斯学习记录.assets/1671256292695.png)







### 15. MAVROS 功能包 

#### 1. 简介

![1671256351028](智能无人机_普罗米修斯学习记录.assets/1671256351028.png)



#### 2. 二进制安装

推荐二进制安装：

![1671256426168](智能无人机_普罗米修斯学习记录.assets/1671256426168.png)



#### 3. 结构：  ![1671256459353](智能无人机_普罗米修斯学习记录.assets/1671256459353.png)





![1671256648927](智能无人机_普罗米修斯学习记录.assets/1671256648927.png)



#### 4. Plugin 介绍

![1671256686141](智能无人机_普罗米修斯学习记录.assets/1671256686141.png)



![1671256724605](智能无人机_普罗米修斯学习记录.assets/1671256724605.png)



#### 5. 三消息形式-消息的传递



![1671256746546](智能无人机_普罗米修斯学习记录.assets/1671256746546.png)





- 我们使用plugin 发布的ROS话题去编写代码，实现功能，然后发布控制相关的ROS话题，plugin 接收我们的话题，替我们发送给飞控

![1671256891986](智能无人机_普罗米修斯学习记录.assets/1671256891986.png)



![1671256980990](智能无人机_普罗米修斯学习记录.assets/1671256980990.png)





 



## 3. Prometheus软件平台

### 1.简介

![1671258354683](智能无人机_普罗米修斯学习记录.assets/1671258354683.png)





### 2. 上手与使用



![1671258454529](智能无人机_普罗米修斯学习记录.assets/1671258454529.png)



- 尽量是双系统
- 

### 3. prometheus 框架

从github 上下载后的框架

![1671258636848](智能无人机_普罗米修斯学习记录.assets/1671258636848.png)



![1671258712646](智能无人机_普罗米修斯学习记录.assets/1671258712646.png)



- 虚线上，自己改动
- 虚线下的，可以不用动  



### 4.prometheus_gazebo模块

![1671258916612](智能无人机_普罗米修斯学习记录.assets/1671258916612.png)



- 该目录下的任何配置，启动，代码文件只能用于仿真，不能用于实物飞行
- config : 各类配置文件（如rviz)
- cpp_nodes,pynodes: 与仿真相关的节点文件
- gazebo_plugin: 插件源文件
- models: 自定义的无人机，传感器模型
- worlds: 世界 （不同场景）
- launch : 启动脚本 





![1671264015143](智能无人机_普罗米修斯学习记录.assets/1671264015143.png)





Gazebo 仿真三要素： 模型，世界，插件

SDF 文件的编写：参考网址,

模型,世界都是SDF 文件，可以到参考网址自己写一个

```http
http://sdformat.org/spec 
```



#### 什么是SITL仿真？

SITL 全称为Software in the loop ,即软件在环仿真

![1671264183020](智能无人机_普罗米修斯学习记录.assets/1671264183020.png)

 

![1671264355927](智能无人机_普罗米修斯学习记录.assets/1671264355927.png)



#### px4 中的仿真是如何进行的

![1671264520669](智能无人机_普罗米修斯学习记录.assets/1671264520669.png)



#### sitl_gazebo 子模块

![1671264632055](智能无人机_普罗米修斯学习记录.assets/1671264632055.png)





![1671264682414](智能无人机_普罗米修斯学习记录.assets/1671264682414.png)











## 4. 代码解读及演示环节





 

# 3. 无人机建模与控制

## 1. 四旋翼无人机模型

### 1. 为什么要建模

![1671298111762](智能无人机_普罗米修斯学习记录.assets/1671298111762.png)



- 模型很重要，准确的模型更重要

  

### 2. 模型总体描述

 ![1671298194008](智能无人机_普罗米修斯学习记录.assets/1671298194008.png)





![1671298306392](智能无人机_普罗米修斯学习记录.assets/1671298306392.png)





坐标系 ： 惯性坐标系和机体坐标系

 

### 3. 模型表达式



![1671298467978](智能无人机_普罗米修斯学习记录.assets/1671298467978.png) 



![1671298489917](智能无人机_普罗米修斯学习记录.assets/1671298489917.png)





![1671298545300](智能无人机_普罗米修斯学习记录.assets/1671298545300.png)



![1671298631670](智能无人机_普罗米修斯学习记录.assets/1671298631670.png)





![1671298711916](智能无人机_普罗米修斯学习记录.assets/1671298711916.png)





#### 动力模型： 

![1671298808106](智能无人机_普罗米修斯学习记录.assets/1671298808106.png)



### 4. 飞行平台参数测量



![1671298988627](智能无人机_普罗米修斯学习记录.assets/1671298988627.png)



- 质量 拿秤称 
- 转动惯量： 不规则模型转规则模型

 

##### 动力系统模型辨识 

![1671299254572](智能无人机_普罗米修斯学习记录.assets/1671299254572.png)





![1671299333838](智能无人机_普罗米修斯学习记录.assets/1671299333838.png)





![1671299387075](智能无人机_普罗米修斯学习记录.assets/1671299387075.png)





![1671299454512](智能无人机_普罗米修斯学习记录.assets/1671299454512.png)



![1671299558228](智能无人机_普罗米修斯学习记录.assets/1671299558228.png)







- 悬停推力 

![1671299675638](智能无人机_普罗米修斯学习记录.assets/1671299675638.png)



### 5. 小结

![1671299683486](智能无人机_普罗米修斯学习记录.assets/1671299683486.png)







## 2. 四旋翼无人机控制



### 1. 闭环控制框架

![1671300118376](智能无人机_普罗米修斯学习记录.assets/1671300118376.png)

 

#### 控制的目的

![1671344400511](智能无人机_普罗米修斯学习记录.assets/1671344400511.png)



#### 稳定的分类

![1671344469708](智能无人机_普罗米修斯学习记录.assets/1671344469708.png)







![1671344565669](智能无人机_普罗米修斯学习记录.assets/1671344565669.png)



#### 四旋翼常见控制器

![1671344671449](智能无人机_普罗米修斯学习记录.assets/1671344671449.png)





![1671344742595](智能无人机_普罗米修斯学习记录.assets/1671344742595.png)



算法的重要程度： 远小于硬件和软件，永远无法通过算法来弥补这两个的先天不足。



#### PX4 的 串级控制框架

![1671353320879](智能无人机_普罗米修斯学习记录.assets/1671353320879.png)





![1671353439597](智能无人机_普罗米修斯学习记录.assets/1671353439597.png)







![1671353613034](智能无人机_普罗米修斯学习记录.assets/1671353613034.png)



![1671353729824](智能无人机_普罗米修斯学习记录.assets/1671353729824.png)









![1671353913404](智能无人机_普罗米修斯学习记录.assets/1671353913404.png)







#### 姿态环控制

![1671354037608](智能无人机_普罗米修斯学习记录.assets/1671354037608.png)



![1671354118430](智能无人机_普罗米修斯学习记录.assets/1671354118430.png)



- 在Masen 模块

![1671354133900](智能无人机_普罗米修斯学习记录.assets/1671354133900.png)



#### 串级PID 的优点 

![1671354152484](智能无人机_普罗米修斯学习记录.assets/1671354152484.png)



- 实现了代码的复用，能够同时满足位置，速度追踪，但无法实现位置速度同时追踪，即轨迹追踪
- 开放出多个接口： 
  - Offboard 模式下可控制： 期望位置，速度，加速度，角度，角速度，力矩（油门量）



#### 姿态环控制算法二次开发

![1671354433805](智能无人机_普罗米修斯学习记录.assets/1671354433805.png)





![1671354626779](智能无人机_普罗米修斯学习记录.assets/1671354626779.png)





![1671354655734](智能无人机_普罗米修斯学习记录.assets/1671354655734.png)



转台测试： 



![1671354742300](智能无人机_普罗米修斯学习记录.assets/1671354742300.png)



- 悬停
- 阶越响应
- 轨迹追踪

![1671354910561](智能无人机_普罗米修斯学习记录.assets/1671354910561.png)





![1671354997582](智能无人机_普罗米修斯学习记录.assets/1671354997582.png)



![1671355072210](智能无人机_普罗米修斯学习记录.assets/1671355072210.png)



![1671355100800](智能无人机_普罗米修斯学习记录.assets/1671355100800.png)













## 3. Prometheus 控制模块



### 1. 坐标系说明

- px4 中使用的都是NED 惯性系，但是据上电为原点，偏航角0度为x轴方向，z轴向下，（右手法则

- Mavros 中使用都是END惯性系，偏航角0 度为x轴方向，z轴向上 （ 右手法则

- Prometheus_control 坐标同为Mavros 

  

### 2. 单位说明

- 距离单位无特殊说明均为米
- 角度单位无特殊说明为rad ,但是打印现实的时候均为度



### 3.control 功能包

- 位置在 Modules 下的control 功能包

依赖Mavros 功能包以及prometheus_msgs 功能包，核心代码

- px4_pos_controller.cpp
- px4_pos_estimator.cpp
- ground_station.cpp
- terminal_control.cpp 

提供一下接口（用于任务模块开发

- 怠速
- 起飞
- 悬停
- 降落
- 移动（包括定点，定速以及其复合模式，以及轨迹追踪

可以自 定义位置环控制器

提供一系列位置控制测试代码



### 4. 自定义msg 

位置： Modules /common

- DroneState.msg  无人机状态
- ControlCommand.msg  操控指令
- PositionReference.msg    位置环期望点
- ControlOutput.msg       控制器输出（期望加速度
- AttitudeReference.msg        姿态期望值
- GroundStation.msg       地面站log信息



#### DroneState.msg 

```c
std_msgs/Header header

## 机载电脑是否连接上飞控，true已连接，false则不是
bool connected
## 是否解锁，true为已解锁，false则不是
bool armed
## 是否降落，true为已降落，false则代表在空中
bool landed
## PX4飞控当前飞行模式
string mode
bool odom_valid

## 系统启动时间
float32 time_from_start             ## [s]

## 无人机状态量：位置、速度、姿态
float32[3] position                 ## [m]
float32  rel_alt                               ## [m] only for outdoor
float32[3] velocity                 ## [m/s]
float32[3] attitude                 ## [rad]
geometry_msgs/Quaternion attitude_q ## 四元数
float32[3] attitude_rate            ## [rad/s]
float32 battery_state               ## 电池状态    #float32
```



#### ControlCommand.msg

```c
std_msgs/Header header

## 控制命令的编号 防止接收到错误命令， 编号应该逐次递加
uint32 Command_ID

## 消息来源
string source
## 控制命令的模式 
uint8 Mode
# enum Mode 控制模式枚举
uint8 Idle=0
uint8 Takeoff=1
uint8 Hold=2
uint8 Land=3
uint8 Move=4
uint8 Disarm=5
uint8 User_Mode1=6
uint8 User_Mode2=7

## 控制参考量 
## 位置参考量：位置、速度、加速度、加加速度、加加加速度
## 角度参考量：偏航角、偏航角速度、偏航角加速度
PositionReference Reference_State

```





#### PositionReference.msg  

```
std_msgs/Header header
## 位置控制参考量

## 默认为 XYZ位置追踪模式 （sub_mode = 0）； 速度追踪启用时，控制器不考虑位置参考量及位置状态反馈
uint8 Move_mode
 

uint8 XYZ_POS      = 0  ##0b00
uint8 XY_POS_Z_VEL = 1  ##0b01
uint8 XY_VEL_Z_POS = 2  ##0b10  目标追踪时x ,y 上速度追踪   z 轴保持位置定高
uint8 XYZ_VEL = 3       ##0b11
uint8 XYZ_ACC = 4       # 有可能时轨迹追踪的时候用
uint8 TRAJECTORY   = 5  

uint8 Move_frame
# 默认情况下均为ENU_FRAME,注意轨迹追踪和XYZ_ACC一定是ENU_FRAME
uint8 ENU_FRAME  = 0    #  ENU 惯性系       
uint8 BODY_FRAME = 1    #  机体系     目标识别下的机体坐标系 
uint8 MIX_FRAME = 2 ##2020.4.6 临时增加的模式，后期需要统一整合，该模式下，xy采用机体系控制，z采用enu系控制
 

## 时刻： 用于轨迹追踪
float32 time_from_start          ## [s]

## 参考量：位置、速度、加速度、加加速度、加加加速度
float32[3] position_ref          ## [m]
float32[3] velocity_ref          ## [m/s]
float32[3] acceleration_ref      ## [m/s^2]
## float32[3] jerk_ref              ## [m/s^3]
## float32[3] snap_ref              ## [m/s^4]

## 角度参考量：偏航角、偏航角速度、偏航角加速度
bool Yaw_Rate_Mode                      ## True 代表控制偏航角速率
float32 yaw_ref                  ## [rad]
float32 yaw_rate_ref             ## [rad/s] 
## float32 yaw_acceleration_ref     ## [rad/s] 
```





#### ControlOutput.msg 

```
std_msgs/Header header

## 位置控制器输出： 期望推力及期望油门
float32[3] Thrust              ## [rad]  
float32[3] Throttle

## NE控制器的中间变量
float32[3] u_l                 ## [0-1] 惯性系下的油门量
float32[3] u_d                 ## [rad]
float32[3] NE                  ## [rad]
```



#### AttitudeReference.msg       

```
std_msgs/Header header

## 位置控制器输出： 期望油门 + 期望角度
float32[3] throttle_sp                 ## [0-1] 惯性系下的油门量
float32 desired_throttle               ## [0-1] 机体系z轴
float32[3] desired_attitude            ## [rad]
geometry_msgs/Quaternion desired_att_q ## 四元数

```





#### GroundStation.msg   

暂无

```

```

![1671445912064](智能无人机_普罗米修斯学习记录.assets/1671445912064.png)











### 5.px4_pos_controller.cpp

 

视频讲解中3.3

- 接收操控指令，计算控制量，通过command_to_mavros.h发送至MAVROS，最终传递给PX4
- 说明
  - 默认的指令是怠速旋转（ldle),飞机不会起飞。（电机的怠速旋转可在QGC中设置）
  - 超出地理围栏（虚拟围栏），则会执行land 指令，即原地降落

- 参数
  - 起飞高度
  - 上锁高度
  - 控制器编号
  - 地理围栏（虚拟围栏） 





### 6.px4_pos_estimator.cpp



- 订阅来自不同来源的状态值，发送至PX4 作滤波融合，接收PX4 融合过的数据，发布无人机状态、

  - 说明
    1. 由于现在个SLAM算法，都已经做的比较完备（都是直出位姿），因此这个模块并没有起到估计的作用，只是一个消息转发的作用，（如果需要更改位置信息来源，只需要在此文件中订阅相关话题即可）
    2. 如果自己做位置估计，是可以在这里进行算法验证的
    3. 飞控参数设置，选择vision作为位置输入

  

- 参数
  - 位置源选择
  - 偏差值



### 7.terminal_control.cpp

- 发布简单的控制指令，/prometheus/control_command 话题（ControlCommand.msg) ，用于测试
- 这是最简单的接口使用实例程序
- 需要依次输入
  - mode
  - sub_mode
  - x_d
  - y_d
  - z_d
  - yaw_d

 

### 8.ground_station.cpp

- 无人机状态，指令监控
- 监视
  - 无人机状态信息
  - 当前控制模式
  - 控制器输出
  - 飞控执行命令

![1671451602339](智能无人机_普罗米修斯学习记录.assets/1671451602339.png)



 

### 9.formation_control.cpp

协同编队

![1671451755360](智能无人机_普罗米修斯学习记录.assets/1671451755360.png)



 



仿真流程： 

启动sti.launch 

启动terminal_control 



多机追踪

roslaunch prometheus_gazbeo sit_formation.launch

roslauch  prometheus_gazabeo sit_formation_mission.launch 



### 10.小结

![1671454909430](智能无人机_普罗米修斯学习记录.assets/1671454909430.png)













# 4. 无人机建图与定位

## 1. SLAM综述



![1671629091618](智能无人机_普罗米修斯学习记录.assets/1671629091618.png)



视觉SLAM 算法介绍

- 常见VSLam方案
- 常用工具介绍
- 

SLAM应用实例

- ORB-SLAM2 
- maplab
- Octomap
- RTAB-MAp



### 按照传感器分类

单目

![1671629252260](智能无人机_普罗米修斯学习记录.assets/1671629252260.png)

双目



![1671629365936](智能无人机_普罗米修斯学习记录.assets/1671629365936.png)



![1671629385673](智能无人机_普罗米修斯学习记录.assets/1671629385673.png)





![1671629425636](智能无人机_普罗米修斯学习记录.assets/1671629425636.png)

  



![1671630128294](智能无人机_普罗米修斯学习记录.assets/1671630128294.png)



![1671630514354](智能无人机_普罗米修斯学习记录.assets/1671630514354.png)

 



![1671630627242](智能无人机_普罗米修斯学习记录.assets/1671630627242.png)  

 

![1671630752902](智能无人机_普罗米修斯学习记录.assets/1671630752902.png)





![1671630910424](智能无人机_普罗米修斯学习记录.assets/1671630910424.png)





![1671630954592](智能无人机_普罗米修斯学习记录.assets/1671630954592.png)



![1671630992569](智能无人机_普罗米修斯学习记录.assets/1671630992569.png)



![1671631104861](智能无人机_普罗米修斯学习记录.assets/1671631104861.png)







![1671631198812](智能无人机_普罗米修斯学习记录.assets/1671631198812.png)



![1671631237681](智能无人机_普罗米修斯学习记录.assets/1671631237681.png)















## 2. ORB-SLAM2

## 3. maplab 

## 4.Octomap

## 5. Rtabmap 









# 5. 无人机运动规划



## 1. 全局规划

![1672060403166](智能无人机_普罗米修斯学习记录.assets/1672060403166.png)





![1672060540084](智能无人机_普罗米修斯学习记录.assets/1672060540084.png)





![1672060625691](智能无人机_普罗米修斯学习记录.assets/1672060625691.png)





![1672060660089](智能无人机_普罗米修斯学习记录.assets/1672060660089.png)



![1672060758440](智能无人机_普罗米修斯学习记录.assets/1672060758440.png)



### 图搜索算法

给定起始点X

在图中搜索，需要建立搜索书

从端点进行回朔，可得到一条从起点到端点路径

![1672060991458](智能无人机_普罗米修斯学习记录.assets/1672060991458.png)







![1672061211278](智能无人机_普罗米修斯学习记录.assets/1672061211278.png)



![1672061389438](智能无人机_普罗米修斯学习记录.assets/1672061389438.png) 







![1672061587750](智能无人机_普罗米修斯学习记录.assets/1672061587750.png)





![1672062526602](智能无人机_普罗米修斯学习记录.assets/1672062526602.png)





![1672063365075](智能无人机_普罗米修斯学习记录.assets/1672063365075.png)



 

![1672063513402](智能无人机_普罗米修斯学习记录.assets/1672063513402.png)



![1672063581251](智能无人机_普罗米修斯学习记录.assets/1672063581251.png)





![1672063632260](智能无人机_普罗米修斯学习记录.assets/1672063632260.png)





## 2. 避障算法

























# 9. 使用



ground_station.cpp 

数据信息地面站

















